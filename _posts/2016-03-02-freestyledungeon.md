---
layout: post
title: "「フリースタイルダンジョン」における最強MCは誰か"
description: "「フリースタイルダンジョン」における最強のラッパーを，Massey の手法に基づくレーティングによって検討する"
category: data-an
tags: [data-an,graph,Python]
---
{% include JB/setup %}


**「フリースタイルダンジョン」** における最強のラッパーを，**Massey の手法** に基づくレーティングによって検討してみます．

![就活](/image/2016-03-02/shukatsu.jpg)

(↑[#13／フリースタイルダンジョン - YouTube](https://www.youtube.com/watch?v=oOw-cI3m6dw) より)

# フリースタイルダンジョン
**フリースタイルダンジョン** とは，日本のラッパーがフリースタイルバトルを繰り広げる地上波の番組です．
YouTubeに公式チャンネルがあって便利です．

* [フリースタイルダンジョン｜テレビ朝日](http://www.tv-asahi.co.jp/freestyledungeon/)
* [フリースタイルダンジョン - YouTube](https://www.youtube.com/channel/UCpW67m9qez6GUd5-gbWS9Ag)

有志の方によって番組中で行われたバトルの結果一覧が作成されていたので，
ここから勝敗データをスクレイピングして，
番組に出演したラッパーのレーティングを作ります．

* [フリースタイルダンジョン バトルの結果一覧 : ヒップホップ辞典.com](http://hip-hop.doorblog.jp/archives/44294573.html)

# Massey の手法に基づくレーティング
今回は，「[レイティング・ランキングの数理 ―No.1は誰か？―](http://www.kyoritsu-pub.co.jp/bookdetail/9784320123908)」に書いてあった，
**「Massey の手法」** と呼ばれる，簡単なレーティング手法を試します．

Massey の手法の基本的なアイデアは，**各チームが対戦した時の得点差が，チーム間のレーティングの差になるようなレーティングを作ろう**，というものです．
式で書くと，チーム $i$ とチーム $j$ が戦った時の点差が $d_{i,j}$ であるときに，

$$r_i - r_j \approx d_{i,j}$$

となるようにレーティング $r_i$ を構成します($i, j = 1,\ldots,T$, ただし，$T$ はチーム数)．
肝心の $r_i$ の推定は最小二乗法で行います．
詳細については原論文[^massey]や「レイティング・ランキングの数理」の2章などを参照してください.

[^massey]: Massey, Kenneth. "Statistical models applied to the rating of sports teams." Bluefield College (1997).

# 結果
単純なベースラインとして，それぞれのラッパーの平均得点と比較してみます．
左下は Massey の手法によるレーティングの棒グラフ，
右下は Massey の手法によるレーティング (`massey`) と，平均得点 (`avgpoint`) の表です．

<table border="0">
<tr>
<td><img src="/image/2016-03-02/ratings.png"></td>
<td><img src="/image/2016-03-02/table.jpg"></td>
</tr>
</table>

Massey の手法では「般若」「Mr.Q」が，
平均得点では「掌幻」「R指定」がそれぞれ1,2位となりました．

## 結果の感想
一視聴者目線からだと，ラスボス「般若」と「Mr.Q」だけが今のところ無敗[^lose]なので，`massey` の方がより納得できる指標であると言えそうです．
ただ，この2人に関しては，それぞれまだ1人としか対戦していないため，大げさなレーティングになっているかもしれない，という点で注意が必要です．

`massey` では僅差で「R指定 > 焚巻」となっていますが，実際の 焚巻 vs R指定 の戦績を見ると，
2-3, 5-0 と焚巻がそれなりに差をつけて勝利しているため，
これは直感に反しています．
今回のデータにおける他のチャレンジャーやモンスターとの点差を考慮すると，2人の実力は伯仲しているっぽい，ということでしょうか (適当)．
同様の現象として，「ACE」は「DOTAMA」に負けていますが，`massey` では僅差で「ACE > DOTAMA」となっていたりします．

[^lose]: ラウンド単位では負けたこともあるが，バトル単位では負けていない．


# まとめ

* 「フリースタイルダンジョン」におけるMCバトルの勝敗データを用いて，
番組に登場したラッパーのレーティングを構成しました．
* 比較的簡単な Massey の手法を用いてレーティングを構成し，
それなりに納得できるレーティングを得ることができました．
* 結果として，ラスボス「般若」がやはり最強っぽいということがわかりました．
