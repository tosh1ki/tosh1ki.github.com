---
layout: post
title: "将棋ウォーズのデータを解析する"
description: "将棋ウォーズから棋譜を解析してみる．"
category: data-an
tags: [将棋,Python,data-an]
---
{% include JB/setup %}

将棋ウォーズで公開されている棋譜をクロールしてDBに登録，解析してみた．


### データの収集について
対象とした棋譜は「第1回将棋ウォーズ聖帝戦」で100位以内に入ったプレーヤーの直近の棋譜をできるだけ多くクローリングした[^recentry]．

[^recentry]:推測に過ぎないが，多分3週間分以上は遡れないっぽい．

[将棋ウォーズ - 第1回将棋ウォーズ聖帝戦ランキング](http://shogiwars.heroz.jp/events/seitei)

### 収集したデータの概要
収集したのは**「第1回将棋ウォーズ聖帝戦」で100位以内に入ったプレーヤーの直近(だいたい聖帝戦開始数日後から聖帝戦終了まで)の10秒指しの対局の棋譜**である．

収集できた棋譜の総数は1891件である．そのうち対局の結果の内訳は以下のようになっている．

|:---------------|----:|
|対局結果       |対局数|
|--------------|---|
|普通に投了      |1589|
|時間切れ        |289|
|千日手で引き分け|8|
|入玉            |4|
|連続王手の千日手|1|
{: .table .table-striped .table-bordered .table-hover}


#### 最も多く対局しているプレーヤーのランキング
収集した棋譜の対局者だけををカウントして対局数が最も多いプレーヤーのランキングを出してみる．

|---|---|
|アカウント名|対局数|
|:--|:--|
|1_tsutsukana| 261|
|miya_with_r| 113|
|kumanbou| 108|
|kuropete| 107|
|zomzom082| 103|
|Aokijikuzan| 103|
|pagagm| 102|
|aoba81| 100|
|persona42| 97|
{: .table .table-striped .table-bordered .table-hover}

#### 対局が行われている時間のヒストグラム
何時に対局が多く行われているのかを調べるためにヒストグラムを描いてみる．横軸は対局が行われている時間，縦軸はその時間に行われた対局数を表す．

![](/image/2014-10-31/hist-hour.png)

まず19時から23時までが特に盛り上がっている点からして，プレーヤーには普通の社会人/学生が多いのかなという印象を受ける．

11時の人数が12時より多いのは不思議だ．大抵の場合昼休みは12~13時なので対局は12時に集中しそうな気がするのだが…


### 終わりに
収集するのに使ったプログラムは以下のリンク先にある．

[tosh1ki/wars-an](https://github.com/tosh1ki/wars-an)

プログラムや将棋ウォーズについての詳細は github の `README.md` に書いたので，詳しく知りたい人はどうぞ．

また，棋譜の解析は以下のリンク先の ipython notebook で行った．

[nbviewer.ipython.org/github/tosh1ki/wars-an/blob/master/wars-visualize.ipynb](http://nbviewer.ipython.org/github/tosh1ki/wars-an/blob/master/wars-visualize.ipynb)
